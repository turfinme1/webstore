{
  "type": "object",
  "name": "admin-users",
  "table": "admin_users",
  "views": "admin_users_view",
  "queryValidationSchema": "userQueryParamsSchema",
  "properties": {
    "first_name": {
      "type": "string",
      "minLength": 3,
      "pattern": "^[a-zA-Z]+$",
      "label": "First Name",
      "placeholder": "Enter First Name",
      "filterable": true,
      "errorMessage": {
        "minLength": "Name must be at least 3 characters long.",
        "pattern": "Name can only contain letters and spaces."
      }
    },
    "last_name": {
      "type": "string",
      "minLength": 3,
      "pattern": "^[a-zA-Z]+$",
      "label": "Last Name",
      "placeholder": "Enter Last Name",
      "filterable": true,
      "errorMessage": {
        "minLength": "Name must be at least 3 characters long.",
        "pattern": "Name can only contain letters and spaces."
      }
    },
    "email": {
      "type": "string",
      "minLength": 6,
      "pattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
      "label": "Email",
      "placeholder": "Enter Email",
      "filterable": true,
      "errorMessage": {
        "minLength": "Email must be at least 6 characters long.",
        "pattern": "Email must be a valid email address."
      }
    },
    "password_hash": {
      "type": "string",
      "minLength": 6,
      "label": "Password",
      "placeholder": "Enter password",
      "errorMessage": {
        "minLength": "Password must be at least 6 characters long."
      }
    },
    "iso_country_code_id": {
      "type": "integer",
      "label": "Country Code",
      "placeholder": "Enter Country Code",
      "fetchFrom": "/crud/iso-country-codes",
      "renderConfig": {
        "type": "select",
        "fetchFrom": "/crud/iso-country-codes",
        "displayKey": "phone_code"
      },
      "errorMessage": {
        "type": "Invalid country code ID."
      }
    },
    "phone": {
      "type": "string",
      "minLength": 7,
      "pattern": "^[0-9]+$",
      "label": "Phone Number",
      "placeholder": "Enter Phone Number",
      "errorMessage": {
        "minLength": "Phone number must be at least 7 digits long.",
        "pattern": "Phone number can only contain digits."
      }
    },
    "gender_id": {
      "type": ["integer", "null"],
      "label": "Gender",
      "placeholder": "Select Gender",
      "renderConfig": {
        "type": "select",
        "options": [
          {
            "value": 3,
            "label": "Not Specified"
          },
          {
            "value": 1,
            "label": "Male"
          },
          {
            "value": 2,
            "label": "Female"
          }
        ]
      },
      "errorMessage": {
        "type": "Invalid value for gender."
      }
    },
    "country_id": {
      "type": ["integer", "null"],
      "label": "Country",
      "placeholder": "Enter Country",
      "filterable": true,
      "renderConfig": {
        "type": "select",
        "fetchFrom": "/crud/iso-country-codes",
        "displayKey": "country_name"
      },
      "errorMessage": {
        "type": "Invalid country code ID."
      }
    },
    "address": {
      "type": ["string", "null"],
      "label": "Address",
      "placeholder": "Enter Address",
      "errorMessage": {
        "type": "Address must be text."
      }
    },
    "is_email_verified": {
      "type": "boolean",
      "label": "Email Verified",
      "placeholder": "Email Verified",
      "errorMessage": {
        "type": "Invalid value for email verification."
      }
    },
    "role_id": {
      "type": ["integer", "null"],
      "label": "Role",
      "placeholder": "Select Role",
      "renderConfig": {
        "type": "select",
        "fetchFrom": "/crud/roles",
        "displayKey": "name"
      },
      "errorMessage": {
        "type": "Invalid role ID."
      }
    }
  },
  "table_display_columns": [
    "id",
    "first_name",
    "last_name",
    "email",
    "phone_code",
    "phone",
    "country_name",
    "gender",
    "address",
    "is_email_verified",
    "role_name"
  ],
  "relationships": {
    "sessions": {
      "table": "sessions",
      "foreign_key": "user_id",
      "nested_relationships": {
        "captchas": {
          "table": "captchas",
          "foreign_key": "session_id"
        },
        "failed_attempts": {
          "table": "failed_attempts",
          "foreign_key": "session_id"
        }
      }
    },
    "email_verifications": {
      "table": "email_verifications",
      "foreign_key": "user_id"
    },
    "comments": {
      "table": "comments",
      "foreign_key": "user_id"
    },
    "ratings": {
      "table": "ratings",
      "foreign_key": "user_id"
    }
  },
  "required": [
    "first_name",
    "last_name",
    "password",
    "email",
    "phone",
    "iso_country_code_id"
  ],
  "additionalProperties": false,
  "errorMessage": {
    "required": {
      "password": "Password is required.",
      "first_name": "First Name is required.",
      "last_name": "Last Name is required.",
      "email": "Email is required.",
      "phone": "Phone number is required.",
      "iso_country_code_id": "Country code is required.",
      "captcha_answer": "Captcha is required."
    },
    "additionalProperties": "No additional properties are allowed."
  }
}
