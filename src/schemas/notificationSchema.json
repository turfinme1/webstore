{
    "type": "object",
    "name": "notifications",
    "table": "notifications",
    "href": "/crud-notification",
    "views": "notifications_view",
    "queryValidationSchema": "notificationQueryParamsSchema",
    "dryRun": true,
    "properties": {
        "name": {
            "type": "string",
            "minLength": 3,
            "pattern": "^[a-zA-Z_-]+$",
            "label": "Notification Campaign Name",
            "placeholder": "Enter Notification Campaign Name",
            "filterable": true,
            "required": {
                "create": true,
                "update": true
            },
            "errorMessage": {
                "type": "Invalid value for Notification name."
            }
        },
        "notification_type": {
            "type": "string",
            "label": "Notification Type",
            "placeholder": "Select Notification Type",
            "required": {
                "create": true,
                "update": false
            },
            "renderConfig": {
                "type": "select",
                "conditionalTemplateDisplay": true,
                "options": [
                    {
                        "value": "Email",
                        "label": "Email"
                    },
                    {
                        "value": "Notification",
                        "label": "Notification"
                    },
                    {
                        "value": "Push-Notification",
                        "label": "Push Notification"
                    },
                    {
                        "value": "Push-Notification-Broadcast",
                        "label": "Push Notification Broadcast"
                    }
                ]
            },
            "insertConfig": {
            },
            "errorMessage": {
                "type": "Invalid value for template type."
            }
        },
        "template_id": {
            "type": "integer",
            "label": "Template",
            "placeholder": "Enter Template",
            "required": {
                "create": true,
                "update": true
            },
            "renderConfig": {
                "type": "select",
                "fetchFrom": "/crud/message-templates",
                "displayKey": "name"
            },
            "errorMessage": {
                "type": "Invalid value for template."
            }
        },
        "valid_to_timestamp": {
            "type": "string",
            "format": "date-time",
            "label": "Valid Date",
            "placeholder": "Enter Valid Date",
            "required": {
                "create": true,
                "update": false
            },
            "renderConfig": {
                "type": "date"
            },
            "errorMessage": {
                "type": "Invalid value for valid date."
            }
        },
        "user_ids": {
            "type": "string",
            "label": "Users (Comma separated User IDs)",
            "pattern": "^[0-9,]+$",
            "placeholder": "Enter User IDs",
            "required": {
                "create": true,
                "update": true
            },
            "errorMessage": {
                "type": "Invalid value for users."
            }
        },
        "created_at": {
            "type": "string",
            "format": "date-time",
            "label": "Created At",
            "placeholder": "Enter Created At",
            "hideInCreate": true,
            "required": {
                "create": false,
                "update": false
            },
            "renderConfig": {
                "type": "date"
            },
            "insertConfig": {
            },
            "errorMessage": {
                "type": "Invalid value for created at."
            }
        },
        "time_to_live": {
            "type": "number",
            "label": "Time to Live (in seconds)",
            "placeholder": "Enter Time to Live",
            "required": {
                "create": true,
                "update": false
            },
            "renderConfig": {
                "minimum": "0",
                "maximum": "2419200",
                "step": "1"
            },
            "insertConfig": {
            },
            "errorMessage": {
                "type": "Invalid value for time to live."
            }
        },
        "urgency": {
            "type": "string",
            "label": "Urgency",
            "placeholder": "Select Urgency",
            "required": {
                "create": true,
                "update": false
            },
            "renderConfig": {
                "type": "select",
                "options": [
                    {
                        "value": "normal",
                        "label": "Normal"
                    },
                    {
                        "value": "low",
                        "label": "Low"
                    },
                    {
                        "value": "high",
                        "label": "High"
                    }
                ]
            },
            "insertConfig": {
            },
            "errorMessage": {
                "type": "Invalid value for urgency."
            }
        },
        "use_topic": {
            "type": "string",
            "label": "Use Topic (Replace previous messages with the same topic)",
            "placeholder": "Enter Topic",
            "required": {
                "create": true,
                "update": false
            },
            "renderConfig": {
                "type": "select",
                "options": [
                    {
                        "value": "false",
                        "label": "No"
                    },
                    {
                        "value": "true",
                        "label": "Yes"
                    }
                ]
            },
            "insertConfig": {
            },
            "errorMessage": {
                "type": "Invalid value for topic."
            }
        }
    },
    "table_display_columns": [
        "created_at",
        "name",
        "template_type",
        "valid_to_timestamp",
        "user_ids"
    ],
    "required": [
        "name",
        "template_id",
        "user_ids",
        "valid_to_timestamp",
        "time_to_live",
        "urgency",
        "use_topic"
    ],
    "crud": {
        "update": false,
        "delete": false
    },
    "additionalProperties": false,
    "errorMessage": {
        "required": {
           "name": "Notification name is required.",
            "template_id": "Template is required.",
            "user_ids": "Users are required."
        },
         "additionalProperties": "No additional properties are allowed."
    }
}